{extend name="/pages/logged/template/modal" /}

{block name="body"}
  <!-- Horizontal Form -->
  <!-- form start -->
  <form class="form-horizontal">
    <div class="form-group row">
      <label for="merchant_admin_username" class="col-sm-2 col-form-label">当前账号</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="merchant_admin_username" name="merchant_admin_username" value="[当前用户名]" readonly="readonly">
      </div>
    </div>
    <div class="form-group row">
      <label for="old_password" class="col-sm-2 col-form-label">原密码</label>
      <div class="col-sm-10">
        <input type="password" class="form-control" id="old_password" name="old_password" placeholder="请输入当前使用的密码" required>
      </div>
    </div>
    <div class="form-group row">
      <label for="merchant_admin_password" class="col-sm-2 col-form-label">新密码</label>
      <div class="col-sm-10">
        <input type="password" class="form-control" id="merchant_admin_password" name="merchant_admin_password" placeholder="请输入新密码" required>
      </div>
    </div>
    <div class="form-group row">
      <label for="merchant_admin_password_confirm" class="col-sm-2 col-form-label">确认新密码</label>
      <div class="col-sm-10">
        <input type="password" class="form-control" id="merchant_admin_password_confirm" name="merchant_admin_password_confirm" placeholder="请再次输入新密码" required>
      </div>
    </div>
    <div class="row justify-content-center">
      <button type="submit" class="btn btn-primary">确定</button>
      <button type="button" class="btn btn-default ml-3" onclick="closeModalIFrame()">关闭</button>
    </div>
  </form>
{/block}

{block name="card"}
<ul>
  <li>
    通过本页面操作可以修改当前登录账号的登录密码。
  </li>
  <li>
    密码修改成功后需要重新登录，之后方可进行其他操作。
  </li>
</ul>
{/block}

{block name="css"}
{/block}

{block name="js"}
<script type="text/javascript">
  $(function() {
    $("form").validate({
      rules: {
        old_password: {
          isPassword: true
        },
        merchant_admin_password: {
          isPassword: true
        },
        merchant_admin_password_confirm: {
          equalTo : "#merchant_admin_password"
        },
      },
      submitHandler: function(form) {
        layer.msg('下面应该是ajax请求了')
      }
    });
  });
</script>
{/block}