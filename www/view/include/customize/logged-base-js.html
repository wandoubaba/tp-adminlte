<!--
-->
<script type="text/javascript">
/**
 * 控制台页面公共js，被所有控制台页面引入
 * 依赖jQuery、
 * 更新时间：2020-04-02
 */

$(function () {
  // 导航菜单定位到当前页
  currentMenu()
})

/**
 * 创建左侧导航菜单的树级结构
 * @author aaron<chenqiang@h024.cn>
 * @date   2019-12-16
 * @return {[type]}   [description]
 */
function currentMenu() {
  let pathname = window.location.pathname
  $(".main-sidebar a.nav-link").each(function () {
    if ($(this).attr('href') == pathname || $(this).attr('data-link') == pathname) {
      // 当前页面的pathname与导航菜单项中的href或data-link属性相同时
      // 展开当前菜单目录并激活此菜单
      $(this).addClass('active').
        parents('.has-treeview').addClass('menu-open').
        find('a.nav-link:first').addClass('active')
    }
  });
}
</script>
